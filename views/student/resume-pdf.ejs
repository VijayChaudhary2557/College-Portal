<%- include('../partials/header') %>

<% if (!resume) { %>
  <div class="max-w-xl mx-auto mt-20 bg-white p-6 text-center shadow">
    <p class="text-lg font-semibold">Resume not found</p>
    <a href="/student/resume" class="action-btn mt-4 inline-block">
      Create Resume
    </a>
  </div>
<% } else { %>

<div class="bg-white">
  <div class=" bg-white p-8"
       style="font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;color:#333;">

    <!-- HEADER -->
    <div class="text-center mb-6">
      <h1 class="text-4xl font-bold uppercase text-gray-800">
        <%= resume.fullName %>
      </h1>

      <p class="font-bold text-lg uppercase text-gray-700 mt-1">
        <%= resume.jobTitle %>
      </p>

      <% if (resume.location) { %>
        <p class="text-sm text-gray-600 mt-2"><%= resume.location %></p>
      <% } %>

      <div class="flex justify-center gap-6 mt-3 text-sm">
        <% if (resume.phone) { %>üìû <%= resume.phone %><% } %>
        <% if (resume.email) { %>‚úâÔ∏è <%= resume.email %><% } %>
      </div>

      <div class="flex justify-center gap-4 mt-2 text-xs">
        <% if (resume.links?.github) { %>
          <a href="<%= resume.links.github %>" target="_blank" class="underline italic">GitHub</a>
        <% } %>
        <% if (resume.links?.linkedin) { %>
          <a href="<%= resume.links.linkedin %>" target="_blank" class="underline italic">LinkedIn</a>
        <% } %>
        <% if (resume.links?.portfolio) { %>
          <a href="<%= resume.links.portfolio %>" target="_blank" class="underline italic">Portfolio</a>
        <% } %>
      </div>
    </div>

    <% if (resume.professionalSummary) { %>
    <section class="mb-6">
      <h2 class="section-header-bar">SUMMARY</h2>
      <p class="text-sm"><%= resume.professionalSummary %></p>
    </section>
    <% } %>

    <% if (resume.skills?.length) { %>
    <section class="mb-6">
      <h2 class="section-header-bar">TECHNICAL SKILLS</h2>
      <div class="grid grid-cols-3 gap-y-1 px-4">
        <% resume.skills.forEach(skill => { %>
          <div class="text-sm">‚Ä¢ <%= skill %></div>
        <% }) %>
      </div>
    </section>
    <% } %>

    <% if (resume.education?.length) { %>
    <section class="mb-6">
      <h2 class="section-header-bar">EDUCATION</h2>
      <% resume.education.forEach(edu => { %>
        <div class="flex justify-between mb-2">
          <div>
            <p class="font-bold text-sm"><%= edu.institute %></p>
            <p class="italic text-sm"><%= edu.degree %></p>
          </div>
          <p class="font-bold text-sm"><%= edu.year %></p>
        </div>
      <% }) %>
    </section>
    <% } %>

    <% if (resume.projects?.length) { %>
    <section class="mb-6">
      <h2 class="section-header-bar">PROJECTS</h2>
      <% resume.projects.forEach(project => { %>
        <p class="font-bold text-sm"><%= project.title %></p>
        <p class="text-sm mb-3"><%= project.description %></p>
      <% }) %>
    </section>
    <% } %>

    <% if (resume.experience?.length) { %>
    <section class="mb-6">
      <h2 class="section-header-bar">EXPERIENCE</h2>
      <% resume.experience.forEach(exp => { %>
        <p class="font-bold text-sm"><%= exp.role %> ‚Äì <%= exp.company %></p>
        <p class="text-sm mb-3"><%= exp.description %></p>
      <% }) %>
    </section>
    <% } %>

  </div>
</div>

<% } %>

<style>
.section-header-bar {
  background:#e2e8f0;
  padding:4px 15px;
  border-radius:20px;
  font-size:14px;
  font-weight:700;
  font-style:italic;
  margin-bottom:10px;
}

.action-btn {
  background:#1a202c;
  color:#fff;
  padding:8px 16px;
  border-radius:6px;
}

.action-btn-outline {
  border:1px solid #1a202c;
  padding:8px 16px;
  border-radius:6px;
}
</style>